# Conceptos / Concepts

This entity representes all the actives inside a company, articles to sell, services, spends and others.

## Model

| Field | Description | Type | Priority |
| ----- | ----------- | ---- | -------- |
| **id** | Numeric identifier | *Number* | Optional |
| **empresa_id** | Identifier of the company to which it belongs | *Number* | Required |
| **codigo** | Code of the concept, could be the barcode | *String* | Optional |
| **referencia** | Internal code | *String* | Optional |
| **nombre** | Name of the concept | *String* | Required |
| **descripcion** | Description of the concept | *String* | Optional |
| **talla** | Size | *String* | Optional |
| **color** | Color | *String* | Optional |
| **descuento** | Discount of the concept on the sell | *String* | Optional |
| **serial_estatico** | Own serial of the article | *String* | Optional |
| **serial_dinamico** | Serial generated by the system | *String* | Optional |
| **existencia_minima** | Minimimun existence allowed | *Number* | Optional |
| **existencia_maxima** | Maximun existence allowed | *Number* | Optional |
| **tipos_conceptos_id** | Type of concept (article, service, compound, assembly, spend) | *Number* | Required |
| **ubicacion_id** | Ubication of the concept on the deposit | *Number* | Optional |
| **costo** | Cost of the concept | *Number* | Required |
| **ultimo_costo** | Last cost registered | *Number* | Required |
| **costo_mayor** | The higher cost registerd | *Number* | Optional |
| **costo_promedio** | Rate of the cost | *Number* | Optional|
| **fecha_at** | Date on created the record | *Date* | Optional |
| **fecha_in** | Date of the last update | *Date* | Optional |
| **fecha_uc** | Date of the last update of the cost | *Date* | Optional |
| **grupos_id** | Id of the group that which it belongs | *Number* | Optional |
| **subgrupos_id** | Id of the subgroup that which it belongs | *Number* | Optional |
| **presentacion** | Base multipler | *Number* | Optional | 
| **unidades_id** | Units of metric correspondient of the concept | *Number* | Optional |
| **fecha_hora** | Date of the last buy | *Date* | Optional | 
| **marcas_id** | Id of the brand of the concept | *Number* | Optional |
| **estado** | If the concept is activated | *Number* | Optional |
| **pvp** | Price to public | *Number* | Optional |
| **precio_a** | Price A | *Number* | Required |
| **precio_b** | Price B | *Number* | Optional |
| **precio_c** | Price C | *Number* | Optional |
| **precio_dolar** | Price Dolar | *Number* | Optional |
| **utilidad** | Utility of the concept | *Number* | Optional |
| **utilidad_a** | Utility A | *Number* | Optional |
| **utilidad_b** | Utility B | *Number* | Optional |
| **utilidad_c** | Utility C | *Number* | Optional |
| **utilidad_dolar** | Utility Dolar | *Number* | Optional |
| **costo_dolar** | Cost on dollars | *Number* | Required |
| **precio_variante** | ----- | *Number* | Optional |
| **retiene** | Its a especial concept | *Boolean* | Optional |
| **farm_principio_activo_id** | Principal ingrediente | *Number* | Optional |
| **imagen** | Name of the principal image | *String* | Optional |
| **costo_adicional** | Some additional cost | *Number* | Optional |
| **costo_adicional2** | Another cost | *Number* | Optional |
| **cant_ensamblado** | Modifier of the assemble | *Number* | Optional |
| **licor** | If the concept correspond to a licor | *Boolean* | Optional |
| **porcentaje** | Commision for sell | *Number* | Optional |
| **visible_pv** | Visible on POS | *Boolean* | Optional |
| **visible_web** | Visible on Marketplace | *Boolean* | Optional |
| **rest_areas_id** | Area of atention correspondient | *Number* | Optional |
| **setcortesia** | A gift to the costumer | *Boolean* | Optional |
| **exento** | Free of taxes | *Boolean* | Optional |
| **merma** | If have waste | *Boolean* | Optional | 
| **existencia_c** | Total of existence | *Number* | Optional |
| **obviar_ajuste** | if the price adjustment does not apply to the concept | *Boolean* | Optional |
| **iva** | If IVA apply | *Boolean* | Optional |
| **presentaciones** | All the presentations of the concept | *Array of objects* | Optional |

## Routes

- **GET: /api/conceptos** : Get an array of concepts

        {
            "totalCount": 6,
            "count": 3,
            "data": [
                        {
                            "id": 1,
                            "empresa_id": 1,
                            "codigo": "04010150541",
                            "referencia": "C001",
                            "nombre": "CARNE DE RES DE PRIMERA",
                            "descripcion": "Carne de res de primera por kilo",
                            "existencia_minima": "20.000",
                            "existencia_maxima": "500.000",
                            "tipos_conceptos_id": 2,
                            "ultimo_costo": "69500.00",
                            "costo_mayor": "68000.00",
                            "fecha_at": "2019-07-11T04:00:00.000Z",
                            "unidades_id": 3,
                            "precio_a": "79925.00",
                            "precio_b": "69500.00",
                            "precio_c": "69500.00",
                            "precio_dolar": "5.75",
                            "utilidad_a": "17.54",
                            "utilidad_b": "2.21",
                            "utilidad_c": "2.21",
                            "utilidad_dolar": "15",
                            "costo_dolar": "5.00",
                            "imagen": "res.jpg",
                            "iva": 1,
                            "presentaciones": []
                        },
                        {
                            "id": 3,
                            "empresa_id": 1,
                            "codigo": "27323221122",
                            "referencia": "C003",
                            "nombre": "PESCADO FRESCO",
                            "descripcion": "Pescado Fresco de tipo small por kg",
                            "existencia_minima": "30.000",
                            "existencia_maxima": "400.000",
                            "tipos_conceptos_id": 2,
                            "ultimo_costo": "26400.00",
                            "costo_mayor": "14960.00",
                            "fecha_at": "2019-07-15T04:00:00.000Z",
                            "unidades_id": 3,
                            "precio_a": "29550.00",
                            "precio_b": "30182.37",
                            "precio_c": "30182.37",
                            "precio_dolar": "1.97",
                            "utilidad_a": "20.79",
                            "utilidad_b": "23.37",
                            "utilidad_c": "23.37",
                            "utilidad_dolar": "12",
                            "costo_dolar": "1.76",
                            "imagen": "pescado.jpg",
                            "iva": 0,
                            "presentaciones": [
                                {
                                    "id": 3,
                                    "conceptos_id": 3,
                                    "nombre": "prueba 2",
                                    "modificador": "1.00",
                                    "utilidad": "1.00"
                                },
                                {
                                    "id": 4,
                                    "conceptos_id": 3,
                                    "nombre": "prueba 3",
                                    "modificador": "1.00",
                                    "utilidad": "1.00"
                                }
                            ]
                        },
                        {
                            "id": 4,
                            "empresa_id": 1,
                            "codigo": "355214235135",
                            "referencia": "C004",
                            "nombre": "CARNE MOLIDA",
                            "descripcion": "Carne Molida de Primera por kilo",
                            "existencia_minima": "50.000",
                            "existencia_maxima": "500.000",
                            "tipos_conceptos_id": 2,
                            "ultimo_costo": "66150.00",
                            "costo_mayor": "60000.00",
                            "fecha_at": "2019-07-15T04:00:00.000Z",
                            "unidades_id": 3,
                            "precio_a": "75450.00",
                            "precio_b": "76415.76",
                            "precio_c": "76415.76",
                            "precio_dolar": "5.03",
                            "utilidad_a": "23.09",
                            "utilidad_b": "24.66",
                            "utilidad_c": "24.66",
                            "utilidad_dolar": "14",
                            "costo_dolar": "4.41",
                            "imagen": "carnemolida.jpg",
                            "iva": 0,
                            "presentaciones": []
                        }
                ],
            "sig": "http://localhost:81/api/conceptos/?offset=4&limit=3",
            "prev": "First Page"
        }
---

- **GET: /api/conceptos/:id** : Get a specific concept

        {
            "data": {
                "id": 3,
                "empresa_id": 1,
                "codigo": "27323221122",
                "referencia": "C003",
                "nombre": "PESCADO FRESCO",
                "descripcion": "Pescado Fresco de tipo small por kg",
                "existencia_minima": "30.000",
                "existencia_maxima": "400.000",
                "tipos_conceptos_id": 2,
                "ultimo_costo": "26400.00",
                "costo_mayor": "14960.00",
                "fecha_at": "2019-07-15T04:00:00.000Z",
                "unidades_id": 3,
                "precio_a": "29550.00",
                "precio_b": "30182.37",
                "precio_c": "30182.37",
                "precio_dolar": "1.97",
                "utilidad_a": "20.79",
                "utilidad_b": "23.37",
                "utilidad_c": "23.37",
                "utilidad_dolar": "12",
                "costo_dolar": "1.76",
                "imagen": "pescado.jpg",
                "iva": 0,
                "presentaciones": [
                    {
                        "id": 3,
                        "conceptos_id": 3,
                        "nombre": "prueba 2",
                        "modificador": "1.00",
                        "utilidad": "1.00"
                    },
                    {
                        "id": 4,
                        "conceptos_id": 3,
                        "nombre": "prueba 3",
                        "modificador": "1.00",
                        "utilidad": "1.00"
                    }
                ]
            },
            "sig": "http://localhost:81/api/conceptos/4",
            "prev": "http://localhost:81/api/conceptos/2"
        }
---

- **GET: /api/conceptos/:id/depositos** : Get all the deopisits on that concept exist

        //To the concept 3
        {
            "totalCount": 4,
            "count": 1,
            "data": [
                {
                    "depositos_id": 1,
                    "existencia": "499.00"
                }
            ],
            "sig": "Last page",
            "prev": "First Page"
        }
---
- **GET: /api/conceptos/:id/photos** : Get all the images of concept

        //To the concept 1
        {
            "totalCount": 4,
            "count": 3,
            "data": [
                {
                    "depositos_id": 1,
                    "existencia": "4996.00"
                },
                {
                    "depositos_id": 2,
                    "existencia": "50.00"
                },
                {
                    "depositos_id": 3,
                    "existencia": "15000.00"
                }
            ],
            "sig": "Last page",
            "prev": "First Page"
        }
---
- **GET: /api/conceptos/:id/presentaciones** : Get all presentations of one concept

        {
            "totalCount": 2,
            "count": 2,
            "data": [
                {
                    "id": 3,
                    "conceptos_id": 3,
                    "nombre": "prueba 2",
                    "modificador": "1.00",
                    "utilidad": "1.00"
                },
                {
                    "id": 4,
                    "conceptos_id": 3,
                    "nombre": "prueba 3",
                    "modificador": "1.00",
                    "utilidad": "1.00"
                }
            ],
            "sig": "Last page",
            "prev": "First Page"
        }
---
- **POST: /api/conceptos/** : Create a new concept 

    Request:

        {
            "data":{
                    "empresa_id": 1,
                    "codigo": "NC002",
                    "referencia": "NC002",
                    "nombre": "Jamon de pavo premiere",
                    "descripcion": "Jamon de pavo marca premier por kilo",
                    "existencia_minima": "20",
                    "existencia_maxima": "500",
                    "tipos_conceptos_id": 2,
                    "ultimo_costo": "125000.00",
                    "costo_mayor": "125000.00",
                    "fecha_at": "2020-09-01T04:00:00.000Z",
                    "unidades_id": 3,
                    "precio_a": "79925.00",
                    "precio_b": "69500.00",
                    "precio_c": "69500.00",
                    "precio_dolar": "5.75",
                    "utilidad_a": "17.54",
                    "utilidad_b": "2.21",
                    "utilidad_c": "2.21",
                    "utilidad_dolar": "15",
                    "costo_dolar": "5.00",
                    "imagen": "default.png.jpg",
                    "iva": 1
            }
        }
    
    Response:

        {
            "message": "Record created",
            "link": "http://localhost:81/api/conceptos/9"
        }
---
- **POST: /api/conceptos/:id** : Modify a concept data

    Request:

        {
            "data":{
                    "precio_a": "200000.00",
                    "precio_dolar": "7.00",
                    "utilidad_dolar": "15",
                    "costo_dolar": "6.00"
            }
        }

    Response: 

        {
            "message": "Record updated",
            "link": "http://localhost:81/api/conceptos/9"
        }
---
- **DELETE: /api/conceptos:id** : Remove a concept

        {
            "message" : "Record deleted"
        }